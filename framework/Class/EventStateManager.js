function a64_0x4711(_0x4cb089,_0x19194b){const _0x2382a6=a64_0x4cd8();return a64_0x4711=function(_0x2abb3c,_0x4ba577){_0x2abb3c=_0x2abb3c-0x197;let _0x4cd83a=_0x2382a6[_0x2abb3c];if(a64_0x4711['LskXXH']===undefined){var _0x4711d3=function(_0x541785){const _0x1d8ecb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x235973='',_0x538305='',_0x57797e=_0x235973+_0x4711d3;for(let _0x3bf33a=0x0,_0x288114,_0x3d3257,_0x437615=0x0;_0x3d3257=_0x541785['charAt'](_0x437615++);~_0x3d3257&&(_0x288114=_0x3bf33a%0x4?_0x288114*0x40+_0x3d3257:_0x3d3257,_0x3bf33a++%0x4)?_0x235973+=_0x57797e['charCodeAt'](_0x437615+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x288114>>(-0x2*_0x3bf33a&0x6)):_0x3bf33a:0x0){_0x3d3257=_0x1d8ecb['indexOf'](_0x3d3257);}for(let _0x516cb9=0x0,_0x159c5f=_0x235973['length'];_0x516cb9<_0x159c5f;_0x516cb9++){_0x538305+='%'+('00'+_0x235973['charCodeAt'](_0x516cb9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x538305);};a64_0x4711['eLzPSm']=_0x4711d3,_0x4cb089=arguments,a64_0x4711['LskXXH']=!![];}const _0x5ce656=_0x2382a6[0x0],_0x29e6ef=_0x2abb3c+_0x5ce656,_0x17a40=_0x4cb089[_0x29e6ef];if(!_0x17a40){const _0x51d8c1=function(_0x3a5b57){this['WwnPRp']=_0x3a5b57,this['aPvRRO']=[0x1,0x0,0x0],this['FQDPtr']=function(){return'newState';},this['hPlaXH']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['GbUqQs']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x51d8c1['prototype']['EfcpYV']=function(){const _0x41ffa3=new RegExp(this['hPlaXH']+this['GbUqQs']),_0x349b76=_0x41ffa3['test'](this['FQDPtr']['toString']())?--this['aPvRRO'][0x1]:--this['aPvRRO'][0x0];return this['cSbUXl'](_0x349b76);},_0x51d8c1['prototype']['cSbUXl']=function(_0x324aa9){if(!Boolean(~_0x324aa9))return _0x324aa9;return this['vGiTJz'](this['WwnPRp']);},_0x51d8c1['prototype']['vGiTJz']=function(_0x4c50cc){for(let _0x3c5808=0x0,_0x5d41b0=this['aPvRRO']['length'];_0x3c5808<_0x5d41b0;_0x3c5808++){this['aPvRRO']['push'](Math['round'](Math['random']())),_0x5d41b0=this['aPvRRO']['length'];}return _0x4c50cc(this['aPvRRO'][0x0]);},new _0x51d8c1(a64_0x4711)['EfcpYV'](),_0x4cd83a=a64_0x4711['eLzPSm'](_0x4cd83a),_0x4cb089[_0x29e6ef]=_0x4cd83a;}else _0x4cd83a=_0x17a40;return _0x4cd83a;},a64_0x4711(_0x4cb089,_0x19194b);}const a64_0x2ee886=a64_0x4711;(function(_0x1635ed,_0x3948ee){const _0x2fcd81=a64_0x4711,_0xfb6141=_0x1635ed();while(!![]){try{const _0x40cb54=parseInt(_0x2fcd81(0x1cf))/0x1+parseInt(_0x2fcd81(0x1aa))/0x2+-parseInt(_0x2fcd81(0x1c3))/0x3*(-parseInt(_0x2fcd81(0x1c8))/0x4)+-parseInt(_0x2fcd81(0x1cc))/0x5+parseInt(_0x2fcd81(0x1ba))/0x6+parseInt(_0x2fcd81(0x1d0))/0x7+-parseInt(_0x2fcd81(0x1bf))/0x8;if(_0x40cb54===_0x3948ee)break;else _0xfb6141['push'](_0xfb6141['shift']());}catch(_0x503fec){_0xfb6141['push'](_0xfb6141['shift']());}}}(a64_0x4cd8,0x7a669));const a64_0x4ba577=(function(){let _0x3e380b=!![];return function(_0x523749,_0x33762a){const _0x2f9483=_0x3e380b?function(){const _0x2a647b=a64_0x4711;if('sFoap'===_0x2a647b(0x1c5))return _0x463af8[_0x2a647b(0x1c1)](_0x2a647b(0x1ac)+_0x14d858+':',_0x357566),![];else{if(_0x33762a){const _0x35e686=_0x33762a['apply'](_0x523749,arguments);return _0x33762a=null,_0x35e686;}}}:function(){};return _0x3e380b=![],_0x2f9483;};}()),a64_0x2abb3c=a64_0x4ba577(this,function(){const _0x5eb4c3=a64_0x4711;return a64_0x2abb3c[_0x5eb4c3(0x1d2)]()[_0x5eb4c3(0x1d7)](_0x5eb4c3(0x1b7))[_0x5eb4c3(0x1d2)]()['constructor'](a64_0x2abb3c)[_0x5eb4c3(0x1d7)]('(((.+)+)+)+$');});function a64_0x4cd8(){const _0x5c5c3d=['qKvUreW','mJqWmZm2meDzB1LysG','AM9PBG','ihDPDgGGywn0Aw9Uia','mtuZoteXy3DHqurW','otG0ntqZtgTcEw13','zxrHDa','Dg9tDhjPBMC','rxjYB3iGDxbKyxrPBMCGAMLKia','z2ztC2u','x2LUAxq','twfuwM0','C2vHCMnO','igLZig5VDYbLBMfIBgvK','igLZigfSCMvHzhKGzgLZywjSzwq','BMHiz0O','C3LUyW','zw5HyMXLza','zgvSzxrL','igLZig5VDYa','CMvTB3zL','igfJDgLVBI8','vgHPCYbJB21Tyw5KigLZig9UBhKGyxzHAwXHyMXLigzVCIbNCM91Chm','u1rbvevt','igLZigfSCMvHzhKGzw5HyMXLza','kIdINQhVUi8Gx3rVigvUywjSzsb0AguGzMvHDhvYzv8G4PYfcUkaOIaQ','C2v0','DMfSDwvZ','yxPxDwG','igzVCIbQAwqG','rxjYB3iGz2v0DgLUzYbHy3rPB24GzM9YigPPzca','kIdINQhVUi8Gx0fJDgLVBJPFipcFLjqGv2fYBG','Dg9mB3DLCKnHC2u','zxHWB3j0CW','DK9ttvm','ywn0Aw9U','nJG4mtm4C3jdBfPU','igLZig5VDcb2ywXPzc4GvMfSAwqGywn0Aw9UCYbHCMu6ia','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','rxjYB3iGC2v0DgLUzYa','C2vXDwvSAxPL','DxbZzxj0','B2zM','kIdINQhVUi8Gx0fJDgLVBJPFipcFL5hVUi8GuMvTB3zLcUkaOIaQ','z2v0','zw5HyMXLzezVCKPPza','qunusu9ouW','zgLZywjSzwq','Aw5JBhvKzxm','kcGOlISPkYKRksSK','v1LvqMi','ww91igrVig5VDcbOyxzLihrOzsbUzwnLC3nHCNKGCgvYBwLZC2LVBNm','mZy4mZK5nefHswX3rG','vgHLigfJDgLVBIa','qw4GzxjYB3iGB2nJDxjYzwqSihbSzwfZzsbSzxqGDxmGA25VDYbVBIb0AguGzM9YDw0GAwyGCgvYC2LZDgvUDa','vLbbvhK','u1rssu5h','nJK5nteZnKjMBMLSAG','C3bSAxq','zxjYB3i','ENf1ENq','mtuZqu9XEgDd','cVcFM6dVUi8GkKnVBMzPz3vYyxrPB24GB2yG','uePdEey','tMDus1u','D2fYBG','ndCZntzRAgDcAxu','z2vUzxjHDgvdBwq','Bg9N'];a64_0x4cd8=function(){return _0x5c5c3d;};return a64_0x4cd8();}a64_0x2abb3c();const NodeCache=require('node-cache'),{DB}=require('../../bdd/_index'),{zokou}=require('../zokou'),{DataTypes,Model}=require(a64_0x2ee886(0x1ae));class EventStateManager{#tableName;#db=null;['_init']=null;[a64_0x2ee886(0x19d)]={'enabled':'on','disabled':a64_0x2ee886(0x1b0)};[a64_0x2ee886(0x1b4)]={'remove':a64_0x2ee886(0x19a),'delete':a64_0x2ee886(0x198),'warn':a64_0x2ee886(0x1c7)};#defaultAction=this[a64_0x2ee886(0x1b4)][a64_0x2ee886(0x19a)];#defaultState=this[a64_0x2ee886(0x19d)][a64_0x2ee886(0x1b5)];#cache;constructor(_0x82674,_0x590f7c=new NodeCache()){const _0x5064e3=a64_0x2ee886;this.#tableName=_0x82674,this.#cache=_0x590f7c,this[_0x5064e3(0x1d5)]=this.#createTable();}async #createTable(){const _0x4ade69=a64_0x2ee886;this.#db=DB['define'](this.#tableName,{'jid':{'type':DataTypes[_0x4ade69(0x1be)],'primaryKey':!![]},'etat':{'type':DataTypes[_0x4ade69(0x1be)],'defaultValue':this.#defaultState},'action':{'type':DataTypes[_0x4ade69(0x1be)],'defaultValue':this.#defaultAction}}),await this.#db[_0x4ade69(0x1db)]();}async #addOrUpdateJid(_0x66cd29,_0x426643=this.#defaultState){const _0x5e7d69=a64_0x2ee886;await this['_init'],await this.#db['upsert']({'jid':_0x66cd29,'etat':_0x426643});const _0x489176=this.#cache[_0x5e7d69(0x1b2)](_0x66cd29)||{};this.#cache['set'](_0x66cd29,{..._0x489176,'etat':_0x426643});}async #updateJidAction(_0x12c1cf,_0x5d1500=this.#defaultAction){const _0x4da2e1=a64_0x2ee886;try{await this[_0x4da2e1(0x1d5)],await this.#db[_0x4da2e1(0x1af)]({'jid':_0x12c1cf,'action':_0x5d1500});const _0x338ab5=this.#cache['get'](_0x12c1cf)||{};this.#cache['set'](_0x12c1cf,{..._0x338ab5,'action':_0x5d1500});}catch(_0xafbac9){console['error'](_0x4da2e1(0x1d3)+_0x12c1cf+_0x4da2e1(0x1ce)+_0x5d1500+':',_0xafbac9);throw _0xafbac9;}}async['enabledForJid'](_0x2d5392){const _0x36de5c=a64_0x2ee886,_0x58d0f1={'gfSse':function(_0x304efb,_0x761a53){return _0x304efb(_0x761a53);},'NgTKU':function(_0xc313ec,_0x11a69e){return _0xc313ec!==_0x11a69e;}};try{const _0x20a01b=this.#cache['get'](_0x2d5392);if(_0x20a01b?.[_0x36de5c(0x1d1)]!==undefined)return _0x58d0f1['NgTKU']('AOxUu',_0x36de5c(0x1c2))?_0x58d0f1[_0x36de5c(0x1c6)](_0x20a01b[_0x36de5c(0x1d1)],this.#defaultState):_0x58d0f1[_0x36de5c(0x1d4)](_0x3a1c06,'This\x20command\x20is\x20only\x20available\x20for\x20groups');await this[_0x36de5c(0x1d5)];const _0x3dd7c9=await this.#db['findByPk'](_0x2d5392);if(_0x3dd7c9){const _0x1c8be6=_0x3dd7c9[_0x36de5c(0x1b2)]({'plain':!![]});return this.#cache['set'](_0x2d5392,{...this.#cache[_0x36de5c(0x1b2)](_0x2d5392)||{},'etat':_0x1c8be6[_0x36de5c(0x1d1)]}),_0x1c8be6[_0x36de5c(0x1d1)]!==this.#defaultState;}return![];}catch(_0xdb2fc6){return console[_0x36de5c(0x1c1)](_0x36de5c(0x1ac)+_0x2d5392+':',_0xdb2fc6),![];}}async['getActionForJid'](_0x295f17){const _0x509f3b=a64_0x2ee886,_0x17cafa={'oXpDQ':_0x509f3b(0x1da),'XRvHR':_0x509f3b(0x1cb)};try{const _0x3b17b2=this.#cache[_0x509f3b(0x1b2)](_0x295f17);if(_0x3b17b2?.['action'])return _0x3b17b2[_0x509f3b(0x1a9)];await this[_0x509f3b(0x1d5)];const _0x344895=await this.#db['findByPk'](_0x295f17);if(_0x344895){const _0x1e7ce8=_0x344895[_0x509f3b(0x1b2)]({'plain':!![]});return this.#cache[_0x509f3b(0x1a0)](_0x295f17,{...this.#cache['get'](_0x295f17)||{},'action':_0x1e7ce8['action']}),_0x1e7ce8['action'];}return this.#defaultAction;}catch(_0x446a4b){if(_0x17cafa['oXpDQ']!==_0x17cafa['XRvHR']){console['error'](_0x509f3b(0x1a4)+_0x295f17+':',_0x446a4b);throw _0x446a4b;}else return _0x5a4744[_0x509f3b(0x1ca)]('Error\x20setting\x20'+_0xaf22e5+_0x509f3b(0x1a3)+_0x412c85+':\x20'+_0x211323),_0x567d87(_0x509f3b(0x1bc));}}[a64_0x2ee886(0x1c9)](_0x414a55){const _0x599688=a64_0x2ee886,_0x1b972a={'vOSMS':function(_0x41c861,_0x433d9e){return _0x41c861(_0x433d9e);},'azWuh':function(_0x52c096,_0x187fa1){return _0x52c096==_0x187fa1;},'VPATy':function(_0x4dd7fa,_0xfc63a9){return _0x4dd7fa==_0xfc63a9;},'fXfDK':function(_0x415b45,_0x3bcd01){return _0x415b45(_0x3bcd01);},'RKOGd':'action/','WYUBb':_0x599688(0x1d6),'DywoS':'grkBu'},{nomCom:_0x63fc3e}=_0x414a55;zokou({..._0x414a55},async(_0x5a0a64,_0x5f3f3e,_0xd0219c)=>{const _0xfd57a0=_0x599688,{verifGroupe:_0x4bd334,verifAdmin:_0x11ef33,ms:_0x48cf18,arg:_0xd26b5,superUser:_0x32bf6e,repondre:_0x5052c2}=_0xd0219c;if(!_0x4bd334)return _0x1b972a[_0xfd57a0(0x1a8)](_0x5052c2,_0xfd57a0(0x19c));if(!_0x32bf6e&&!_0x11ef33)return _0x1b972a[_0xfd57a0(0x1a8)](_0x5052c2,_0xfd57a0(0x1b9));try{const _0x452f73=_0xfd57a0(0x1c4)+_0x63fc3e+'*\x0a\x0a•\x20*'+_0x63fc3e+'\x20'+this[_0xfd57a0(0x19d)][_0xfd57a0(0x197)]+_0xfd57a0(0x19f)+_0x63fc3e+'\x20'+this[_0xfd57a0(0x19d)][_0xfd57a0(0x1b5)]+'*\x20➡️\x20_to\x20disable\x20it_\x20❌\x0a\x0a⚙️\x20*Change\x20the\x20action*:\x0a•\x20*'+_0x63fc3e+_0xfd57a0(0x19b)+this['ACTIONS']['remove']+_0xfd57a0(0x1b1)+_0x63fc3e+'\x20action/'+this['ACTIONS'][_0xfd57a0(0x198)]+'*\x20➡️\x20_Action:_\x20⚠️\x20Delete\x0a•\x20*'+_0x63fc3e+_0xfd57a0(0x19b)+this[_0xfd57a0(0x1b4)]['warn']+_0xfd57a0(0x1a5);if(!_0xd26b5||!_0xd26b5[0x0]||_0xd26b5[_0xfd57a0(0x1cd)]('')['trim']()=='')return _0x5052c2(_0x452f73);const _0x114ef6=_0xd26b5[0x0]['toLowerCase']();if(_0x1b972a[_0xfd57a0(0x1a2)](_0x114ef6,this[_0xfd57a0(0x19d)]['enabled'])){if(await this[_0xfd57a0(0x1b3)](_0x5a0a64))return _0x5052c2(_0x63fc3e+_0xfd57a0(0x19e));return await this.#addOrUpdateJid(_0x5a0a64,_0x114ef6),_0x5052c2(_0x63fc3e+_0xfd57a0(0x1d8));}else{if(_0x1b972a[_0xfd57a0(0x1bd)](_0x114ef6,this[_0xfd57a0(0x19d)]['disabled'])){if(!await this[_0xfd57a0(0x1b3)](_0x5a0a64))return _0x5052c2(_0x63fc3e+'\x20is\x20already\x20disabled');return await this.#addOrUpdateJid(_0x5a0a64,_0x114ef6),_0x1b972a['fXfDK'](_0x5052c2,_0x63fc3e+'\x20is\x20now\x20disabled');}else{if(_0x114ef6['startsWith'](_0x1b972a['RKOGd'])){const _0x1d1a1f=_0x114ef6[_0xfd57a0(0x1c0)]('/')[0x1]['trim']()[_0xfd57a0(0x1a6)]();if(!Object[_0xfd57a0(0x1a1)](this['ACTIONS'])[_0xfd57a0(0x1b6)](_0x1d1a1f))return _0x1b972a['WYUBb']===_0x1b972a[_0xfd57a0(0x1b8)]?_0x5052c2(_0xfd57a0(0x1bb)+_0x1d1a1f+_0xfd57a0(0x1ab)+Object[_0xfd57a0(0x1a1)](this['ACTIONS'])[_0xfd57a0(0x1cd)](',\x20')):_0x1b972a[_0xfd57a0(0x1a8)](_0x1dbf1d,_0x2022dd+_0xfd57a0(0x1d9));return await this.#updateJidAction(_0x5a0a64,_0x1d1a1f),_0x5052c2('The\x20action\x20for\x20'+_0x63fc3e+_0xfd57a0(0x199)+_0x1d1a1f);}else return _0x1b972a['DywoS']!==_0x1b972a['DywoS']?_0x3461de(_0x67ac1a):_0x1b972a['vOSMS'](_0x5052c2,_0x452f73);}}}catch(_0x5be0f0){return console['log'](_0xfd57a0(0x1ad)+_0x63fc3e+_0xfd57a0(0x1a3)+_0x5a0a64+':\x20'+_0x5be0f0),_0x5052c2('An\x20error\x20occurred,\x20please\x20let\x20us\x20know\x20on\x20the\x20forum\x20if\x20persistent');}});}}module[a64_0x2ee886(0x1a7)]=EventStateManager;