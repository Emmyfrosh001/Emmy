const a0_0x277349=a0_0x213b;(function(_0x422471,_0x53895e){const _0x23a462=a0_0x213b,_0x422e51=_0x422471();while(!![]){try{const _0x329387=parseInt(_0x23a462(0x1fa))/0x1*(parseInt(_0x23a462(0x1ff))/0x2)+parseInt(_0x23a462(0x1eb))/0x3*(parseInt(_0x23a462(0x1f4))/0x4)+-parseInt(_0x23a462(0x201))/0x5+-parseInt(_0x23a462(0x1fc))/0x6*(parseInt(_0x23a462(0x209))/0x7)+parseInt(_0x23a462(0x1ea))/0x8*(-parseInt(_0x23a462(0x204))/0x9)+-parseInt(_0x23a462(0x208))/0xa*(-parseInt(_0x23a462(0x1f0))/0xb)+-parseInt(_0x23a462(0x1f8))/0xc;if(_0x329387===_0x53895e)break;else _0x422e51['push'](_0x422e51['shift']());}catch(_0x3578df){_0x422e51['push'](_0x422e51['shift']());}}}(a0_0x19ee,0xa87b4));const a0_0x5602ae=(function(){let _0x441d22=!![];return function(_0x5a06f9,_0xc4abd5){const _0x5c0be7=_0x441d22?function(){if(_0xc4abd5){const _0x5ed868=_0xc4abd5['apply'](_0x5a06f9,arguments);return _0xc4abd5=null,_0x5ed868;}}:function(){};return _0x441d22=![],_0x5c0be7;};}()),a0_0x20bd73=a0_0x5602ae(this,function(){const _0xf1d90f=a0_0x213b,_0x430183={'ZPuXJ':_0xf1d90f(0x1ed)};return a0_0x20bd73[_0xf1d90f(0x205)]()[_0xf1d90f(0x207)](_0xf1d90f(0x1ed))['toString']()[_0xf1d90f(0x200)](a0_0x20bd73)[_0xf1d90f(0x207)](_0x430183[_0xf1d90f(0x202)]);});a0_0x20bd73();function a0_0x213b(_0x57a0ea,_0x185df8){const _0x44c195=a0_0x19ee();return a0_0x213b=function(_0x20bd73,_0x5602ae){_0x20bd73=_0x20bd73-0x1ea;let _0x19eec6=_0x44c195[_0x20bd73];if(a0_0x213b['tsbZpZ']===undefined){var _0x213b87=function(_0x296865){const _0x2b9cbd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5de264='',_0x1cd1ed='',_0x557ea0=_0x5de264+_0x213b87;for(let _0x16c985=0x0,_0x2df281,_0x352d94,_0x134773=0x0;_0x352d94=_0x296865['charAt'](_0x134773++);~_0x352d94&&(_0x2df281=_0x16c985%0x4?_0x2df281*0x40+_0x352d94:_0x352d94,_0x16c985++%0x4)?_0x5de264+=_0x557ea0['charCodeAt'](_0x134773+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2df281>>(-0x2*_0x16c985&0x6)):_0x16c985:0x0){_0x352d94=_0x2b9cbd['indexOf'](_0x352d94);}for(let _0x3f4d24=0x0,_0x37d043=_0x5de264['length'];_0x3f4d24<_0x37d043;_0x3f4d24++){_0x1cd1ed+='%'+('00'+_0x5de264['charCodeAt'](_0x3f4d24)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1cd1ed);};a0_0x213b['NMRTHH']=_0x213b87,_0x57a0ea=arguments,a0_0x213b['tsbZpZ']=!![];}const _0x150530=_0x44c195[0x0],_0x17fccd=_0x20bd73+_0x150530,_0x2d8304=_0x57a0ea[_0x17fccd];if(!_0x2d8304){const _0x324615=function(_0x1198aa){this['lozNcn']=_0x1198aa,this['nyVZMT']=[0x1,0x0,0x0],this['RrDyAs']=function(){return'newState';},this['BVOfDU']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['YZkrML']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x324615['prototype']['KycGub']=function(){const _0x4b95ce=new RegExp(this['BVOfDU']+this['YZkrML']),_0x2bbce1=_0x4b95ce['test'](this['RrDyAs']['toString']())?--this['nyVZMT'][0x1]:--this['nyVZMT'][0x0];return this['xIMthO'](_0x2bbce1);},_0x324615['prototype']['xIMthO']=function(_0x2d3418){if(!Boolean(~_0x2d3418))return _0x2d3418;return this['hJtqbf'](this['lozNcn']);},_0x324615['prototype']['hJtqbf']=function(_0x3e2e6c){for(let _0x433b66=0x0,_0x40f38c=this['nyVZMT']['length'];_0x433b66<_0x40f38c;_0x433b66++){this['nyVZMT']['push'](Math['round'](Math['random']())),_0x40f38c=this['nyVZMT']['length'];}return _0x3e2e6c(this['nyVZMT'][0x0]);},new _0x324615(a0_0x213b)['KycGub'](),_0x19eec6=a0_0x213b['NMRTHH'](_0x19eec6),_0x57a0ea[_0x17fccd]=_0x19eec6;}else _0x19eec6=_0x2d8304;return _0x19eec6;},a0_0x213b(_0x57a0ea,_0x185df8);}function a0_0x19ee(){const _0x347d4b=['otLwvenksg4','rxjYzxvYigXVCNmGzhuGy2HHBMDLBwvUDcbKj8oPDgf0iefgsZOG','mta4ndyYCKLyv29x','lI9FAw5KzxG','rMTjtem','mJaWmJH3suLNt3y','y29UC3rYDwn0B3i','mJu3nZC1mfzuvLrZAa','wLb1weO','svvjr0K','mZG1ndDvAKHWCLi','Dg9tDhjPBMC','B2zM','C2vHCMnO','nti2mgjNv2DMrG','mte5A0XXEePW','z2v0','twPUA3u','mtC0ngjAu3H5rG','m1frugLysW','B2L5AvK','kcGOlISPkYKRksSK','C2v0','AMnUqwC','nteZn01QwfPZrq','qxvJDw4Gzw5YzwDPC3rYzw1LBNqGquzlihrYB3v2W6KGyxzLyYbSj0Leia','BM8TDxjS','y1DiqNG','nti0mteZnNbkAvbAzG','DxbKyxrL','zMLUzej5ugS','Bg9N','mtiWnZKWoevrEKzfAG','t1zzq2q'];a0_0x19ee=function(){return _0x347d4b;};return a0_0x19ee();}const {Afk}=require(a0_0x277349(0x1fd)),{afkCache}=require('../framework/cache');async function addOrUpdateAfk(_0x2079c0,_0x4bd1c2,_0x32979e){const _0x2de1cc=a0_0x277349,_0x48fadb={'jcnAg':_0x2de1cc(0x1ec),'Mjnku':'Erreur\x20lors\x20de\x20l\x27ajout\x20ou\x20la\x20mise\x20à\x20jour\x20de\x20l\x27enregistrement\x20AFK:'};try{if(_0x48fadb[_0x2de1cc(0x1ef)]!==_0x2de1cc(0x1ec)){const _0x3b2245=_0x3f4d24?function(){if(_0x2d3418){const _0x4ed95f=_0x3e61b2['apply'](_0x209fde,arguments);return _0x3f9b53=null,_0x4ed95f;}}:function(){};return _0x2bbce1=![],_0x3b2245;}else{await Afk['upsert']({'id':_0x2079c0,'message':_0x4bd1c2,'lien':_0x32979e});const _0x1b3a9a=afkCache['get'](_0x2079c0)||{};afkCache[_0x2de1cc(0x1ee)](_0x2079c0,{..._0x1b3a9a,'message':_0x4bd1c2,'lien':_0x32979e});}}catch(_0x2c5b83){console[_0x2de1cc(0x1f7)](_0x48fadb[_0x2de1cc(0x20b)],_0x2c5b83);}}async function getAfkById(_0x3a0637){const _0x305fca=a0_0x277349,_0x4f8859={'cWHBx':_0x305fca(0x206),'FkILC':_0x305fca(0x1f2)};try{const _0x1f75b8=afkCache[_0x305fca(0x20a)](_0x3a0637);if(_0x1f75b8)return _0x1f75b8;const _0x56a4ae=await Afk[_0x305fca(0x1f6)](_0x3a0637);if(_0x56a4ae){const _0x19a058=_0x56a4ae['get']({'plain':!![]});return afkCache[_0x305fca(0x1ee)](_0x3a0637,_0x19a058),_0x19a058;}const _0x2d1f16={'id':_0x3a0637,'etat':_0x4f8859[_0x305fca(0x1f3)],'message':null,'lien':'no-url'};return afkCache[_0x305fca(0x1ee)](_0x3a0637,_0x2d1f16),_0x2d1f16;}catch(_0x597604){if('jWwKW'!=='jWwKW'){const _0x3aa6b9=_0xdf1ada['get']({'plain':!![]});return _0x50a936['set'](_0x398f5d,_0x3aa6b9),_0x3aa6b9;}else return console[_0x305fca(0x1f7)]('Erreur\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK:',_0x597604),{'id':_0x3a0637,'etat':_0x305fca(0x206),'message':null,'lien':_0x4f8859[_0x305fca(0x1fe)]};}}async function changeAfkState(_0x381ae2,_0x4129ae){const _0x4a6f80=a0_0x277349,_0x17ce99={'OVYCd':_0x4a6f80(0x1fb)};try{const [_0x3250bf]=await Afk[_0x4a6f80(0x1f5)]({'etat':_0x4129ae},{'where':{'id':_0x381ae2}});if(_0x3250bf===0x0){console[_0x4a6f80(0x1f7)](_0x4a6f80(0x1f1)+_0x381ae2);return;}const _0x4b2a36=afkCache[_0x4a6f80(0x20a)](_0x381ae2);if(_0x4b2a36){if('IUIGI'===_0x4a6f80(0x203))afkCache[_0x4a6f80(0x1ee)](_0x381ae2,{..._0x4b2a36,'etat':_0x4129ae});else{if(_0x374296){const _0x2a54a9=_0x1d1950['apply'](_0x4d6506,arguments);return _0x2c5cf5=null,_0x2a54a9;}}}else{const _0xb16ba6=await getAfkById(_0x381ae2);afkCache['set'](_0x381ae2,_0xb16ba6);}}catch(_0x1d7c04){console['log'](_0x17ce99[_0x4a6f80(0x1f9)],_0x1d7c04);}}module['exports']={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};